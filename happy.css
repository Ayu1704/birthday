/* happy.css - Cute theme, photo & video carousels, dark-mode fixed */

/* palette */
:root{
  --bg1: #fbc2eb;
  --bg2: #a6c1ee;
  --mutedText: #6b7280;
  --cardLight: rgba(255,255,255,0.85);
  --cardDark: rgba(22,22,28,0.6);
}

/* base */
html,body{height:100%;margin:0;padding:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
body{background:linear-gradient(135deg,var(--bg1) 0%, #ffd6f0 30%, var(--bg2)100%);background-size:400% 400%;animation:gradientShift 18s ease infinite;min-height:100vh;color:#111;}

/* title text gradient */
.title-shadow{background:linear-gradient(90deg,#f43f5e 0%, #ff8dbf 50%, #7c3aed 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;display:inline-block;}
.typewriter{overflow:hidden;border-right:.12em solid rgba(255,255,255,0.8);white-space:nowrap;letter-spacing:.02em;animation:caret 700ms steps(1) infinite;}

/* carousel viewport */
.carousel-viewport{padding:18px;}
.carousel-track{padding-bottom:6px;transition:transform 700ms cubic-bezier(.2,.8,.2,1);display:flex;gap:18px;}

/* card wrapper width ensures 3 visible on wide screens */
.memory-card-card{max-width:33.3333%;box-sizing:border-box;padding-bottom:8px;}
.video-card-card{max-width: 33.3333%;box-sizing:border-box;padding-bottom:8px;}

/* card visuals */
.memory-card{
  border-radius:16px;overflow:hidden;background:linear-gradient(180deg,var(--cardLight),rgba(255,255,255,0.7));backdrop-filter:blur(4px);box-shadow:0 8px 30px rgba(124,58,237,0.06);cursor:pointer;display:flex;flex-direction:column;height:100%;
}
.memory-card img{height:220px;width:100%;object-fit:cover;display:block;transition:transform .28s ease;}
.memory-card .p-4{padding:14px;}
.memory-card:hover{box-shadow:0 20px 50px rgba(255,122,182,0.12);}

/* carousel video styling (muted autoplay in small box) */
.carousel-video{height:220px;width:100%;object-fit:cover;display:block;border-radius:6px;background:#000;}
.carousel-video::-webkit-media-controls{display:none!important;} /* try to hide tiny controls on some browsers */

/* tilt effect */
.tilt-card{perspective:700px;}
.tilt-card img,.tilt-card video{transform-origin:center;transition:transform 0.25s ease;}

/* modal */
#photoModal img,#videoModalPlayer{object-fit:contain;}
#photoModal .p-6{padding:18px;} 

/* hearts */
.heart{position:fixed;pointer-events:none;z-index:60;width:28px;height:28px;transform:translate(-50%,-50%) rotate(-10deg);animation:floatUp 3s ease-in forwards;will-change:transform,opacity;}
@keyframes floatUp{0%{transform:translate(-50%,0) scale(0.8) rotate(-10deg);opacity:1;}80%{opacity:0.95;}100%{transform:translate(-50%,-160px) scale(1.1) rotate(6deg);opacity:0;}}

/* confetti canvas full */
#confettiCanvas{width:100%;height:100%;}

/* animations */
@keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
@keyframes btnPulse{0%{box-shadow:0 10px 30px rgba(255,122,182,0.18)}50%{box-shadow:0 22px 50px rgba(255,122,182,0.32);transform:translateY(-4px) scale(1.03)}100%{box-shadow:0 10px 30px rgba(255,122,182,0.18);transform:translateY(-2px)}}
@keyframes caret{0%{border-color:rgba(255,255,255,0.9)}50%{border-color:rgba(255,255,255,0.25)}100%{border-color:rgba(255,255,255,0.9)}}

/* music button */
#musicBtn{background:linear-gradient(135deg,#ff7ab6,#ffb6d5);box-shadow:0 10px 30px rgba(255,122,182,0.18) , 0 2px 6px rgba(0,0,0,0.08);transition:transform .25s ease,box-shadow .25s ease;border:3px solid rgba(255,255,255,0.35);}
#musicBtn.playing{animation:btnPulse 1.7s infinite;transform:translateY(-2px);box-shadow:0 18px 40px rgba(255,122,182,0.26),0 4px 12px rgba(124,58,237,0.08);}
#musicBtn:hover{transform:scale(1.03);}

/* responsive */
@media (max-width:1024px){ .memory-card img,.carousel-video{height:200px;} }
@media (max-width:768px){
  .memory-card-card,.video-card-card{max-width:100%;width:100%;}
  .carousel-viewport{padding-left:8px;padding-right:8px;}
  .carousel-track{gap:12px;}
  .memory-card img,.carousel-video{height:180px;}
  #mainTitle{font-size:28px;}
  .title-shadow{font-size:1.6rem;}
}

/* DARK MODE FIXES - readable text + card colors */
body.dark{
  background: linear-gradient(135deg,#1a1526 0%, #2b2140 50%, #4a2f4f 100%);
  color: #f6eef7;
}
body.dark p, body.dark .memory-card p, body.dark h1, body.dark h2, body.dark h3 {
  color: #f6eef7;
}
body.dark .memory-card {
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  color: #f3e7f8;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
}
body.dark .title-shadow {
  background: linear-gradient(90deg,#ff9ec4 0%, #ff8dbf 50%, #b28cff 100%);
  -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
}
body.dark #photoModal .p-6, body.dark #videoModal .p-6 {
  color: #f2e8f8;
}
body.dark #musicBtn { background: linear-gradient(135deg,#a78bfa,#f472b6); border: 1px solid rgba(255,255,255,0.06); }

/* accessibility focus */
button:focus { outline: 3px solid rgba(124,58,237,0.16); outline-offset: 2px; border-radius: 8px; }
/* ðŸ©· Modal Styling Fix for Videos */
.modal-content video {
  width: 100%;
  height: auto;
  border-radius: 1rem;
  max-width: 90vw;
  max-height: 80vh;
  object-fit: contain;
}

/* Center modal content properly */
.modal-content {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  max-width: 90vw;
  max-height: 80vh;
  margin: auto;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 1rem;
  padding: 1rem;
  box-shadow: 0 0 20px rgba(0,0,0,0.3);
}

/* Dark mode adjustment */
body.dark .modal-content {
  background: rgba(30, 30, 50, 0.95);
}
/* ðŸŽ¬ Cinematic fade-in and zoom for videos */
.carousel-video {
  opacity: 0;
  transform: scale(0.96);
  transition: opacity 0.8s ease-out, transform 1.2s ease-out;
}

.carousel-video.video-visible {
  opacity: 1;
  transform: scale(1);
}
.fade-in {
  animation: fadeIn 1.2s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
